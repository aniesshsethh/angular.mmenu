angular.module("angular-mmenu",[]).directive("mmenu",function(){var n="angular-mmenu-id",t=function(n,t){return t===undefined||t===null?t=null:n[t]!==null&&n[t]!==undefined&&(t=n[t]),t},u=function(n,t){var r=null,u,f;t.href===null||t.href===undefined?r=$("<span />"):(u=$("<a />"),t.href==="#"||t.href===""?u.attr("href","javascript:void(0);"):u.attr("href",t.href),r=u);r.text(t.text);n.append(r);t.items!==null&&t.items!==undefined&&angular.isArray(t.items)&&t.items.length>0&&(f=$("<ul />"),t.items.forEach(function(n){i(f,n)}),n.append(f))},i=function(n,t){var i=$("<li/>");t!==null&&t!==undefined&&(u(i,t),t.class!==null&&t.class!==undefined&&i.addClass(t.class));n.append(i)},r=function(r,u){var e=u.mmenuId,h,c,l,a,v,y;if(e===null||e===undefined||e===""){console.warn("No angular-mmenu id is specified");return}var o=null,f=null,s=$("["+n+"="+e+"]");if(s.length===0){console.warn("No angular-mmenu host was found");return}h=r[u.mmenuItems];(h===null||h===undefined)&&(h=[]);s[0].localName==="nav"?(s.empty(),f=s.data("mmenu"),o=s):o=$('<nav id="'+e+'" />');c=$("<ul />");o.append(c);h.forEach(function(n){i(c,n)});f===null||f===undefined?(l=angular.element(o),a=angular.element(s),a.replaceWith(l),v=t(r,u.mmenuOptions),y=t(r,u.mmenuParams),o.attr(n,e),$(document).ready(function(){o.mmenu(v,y)})):f._init!=null&&f._init!==undefined?f._init():f.init!=null&&f.init!==undefined?f.init(c):console.error("angular mmenu could not be reinitialized due to missing init api method.")},f=function(n,t,i){i.mmenuInvalidate!==null&&i.mmenuInvalidate!==undefined&&i.mmenuInvalidate!==""&&(t[i.mmenuInvalidate]=function(){r(t,i)});t.$watchCollection(i.mmenuItems,function(){r(t,i)})};return{restrict:"E",replace:!0,link:function(t,i,r){if(r.mmenuItems==null||r.mmenuItems==undefined){console.warn("mmenu-items attribute is not specified. No MMenu is created.");i.remove();return}if(r.mmenuId==null||r.mmenuId==undefined){console.warn("mmenu-id attribute is not specified. No MMenu is created.");i.remove();return}i.attr(n,r.mmenuId);f(r.mmenuId,t,r)}}});
